{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/munhagju/DoraemonPlateV1/frontend/components/index/Rooms.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, forwardRef, useImperativeHandle, useCallback } from \"react\";\nimport Link from \"next/link\";\nexport var Rooms = /*#__PURE__*/forwardRef(_c = _s(function (_, ref) {\n  _s();\n\n  var _useState = useState(null),\n      rooms = _useState[0],\n      setRooms = _useState[1];\n\n  var refresh = useCallback(function () {\n    setRooms(null);\n    fetch(\"/api/rooms\").then(function (res) {\n      return res.json();\n    }).then(setRooms);\n  }, []);\n  useEffect(function () {\n    refresh();\n  }, []);\n  useImperativeHandle(ref, function () {\n    return {\n      refresh: refresh\n    };\n  }, [refresh]);\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: rooms ? rooms.length > 0 ? rooms.map(function (room, i) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/rooms/\".concat(room),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: room\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }, _this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, _this);\n    }) : /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \"not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, _this) : /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \"loading ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, _this);\n}, \"usFtcEAqRPIyVG0ELMCpAOCadkY=\", false, function () {\n  return [useImperativeHandle];\n}));\n_c2 = Rooms;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Rooms$forwardRef\");\n$RefreshReg$(_c2, \"Rooms\");","map":{"version":3,"sources":["/Users/munhagju/DoraemonPlateV1/frontend/components/index/Rooms.tsx"],"names":["useEffect","useState","forwardRef","useImperativeHandle","useCallback","Link","Rooms","_","ref","rooms","setRooms","refresh","fetch","then","res","json","length","map","room","i"],"mappings":";;;;;;AAAA,SACEA,SADF,EAEEC,QAFF,EAGEC,UAHF,EAIEC,mBAJF,EAKEC,WALF,QAMO,OANP;AAOA,OAAOC,IAAP,MAAiB,WAAjB;AAIA,OAAO,IAAMC,KAAK,gBAAGJ,UAAU,SAAc,UAACK,CAAD,EAAIC,GAAJ,EAAY;AAAA;;AAAA,kBAC7BP,QAAQ,CAAW,IAAX,CADqB;AAAA,MAChDQ,KADgD;AAAA,MACzCC,QADyC;;AAGvD,MAAMC,OAAO,GAAGP,WAAW,CAAC,YAAM;AAChCM,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,IAAAA,KAAK,CAAC,YAAD,CAAL,CACGC,IADH,CACQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KADR,EAEGF,IAFH,CAEQH,QAFR;AAGD,GAL0B,EAKxB,EALwB,CAA3B;AAOAV,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAIAR,EAAAA,mBAAmB,CAACK,GAAD,EAAM;AAAA,WAAO;AAAEG,MAAAA,OAAO,EAAPA;AAAF,KAAP;AAAA,GAAN,EAA2B,CAACA,OAAD,CAA3B,CAAnB;AAEA,sBACE;AAAA,cACGF,KAAK,GACJA,KAAK,CAACO,MAAN,GAAe,CAAf,GACEP,KAAK,CAACQ,GAAN,CAAU,UAACC,IAAD,EAAOC,CAAP;AAAA,0BACR;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,IAAI,mBAAYD,IAAZ,CAAV;AAAA,iCACE;AAAA,sBAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,SAASC,CAAT;AAAA;AAAA;AAAA;AAAA,eADQ;AAAA,KAAV,CADF,gBASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAVE,gBAaJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdJ;AAAA;AAAA;AAAA;AAAA,WADF;AAmBD,CAnC8B;AAAA,UAc7BhB,mBAd6B;AAAA,GAAxB;MAAMG,K","sourcesContent":["import {\r\n  useEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useCallback,\r\n} from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nimport { Refreshable } from \"../Refreshable\";\r\n\r\nexport const Rooms = forwardRef<Refreshable>((_, ref) => {\r\n  const [rooms, setRooms] = useState<string[]>(null);\r\n\r\n  const refresh = useCallback(() => {\r\n    setRooms(null);\r\n    fetch(\"/api/rooms\")\r\n      .then((res) => res.json())\r\n      .then(setRooms);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, []);\r\n\r\n  useImperativeHandle(ref, () => ({ refresh }), [refresh]);\r\n\r\n  return (\r\n    <ul>\r\n      {rooms ? (\r\n        rooms.length > 0 ? (\r\n          rooms.map((room, i) => (\r\n            <li key={i}>\r\n              <Link href={`/rooms/${room}`}>\r\n                <a>{room}</a>\r\n              </Link>\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <li>not found</li>\r\n        )\r\n      ) : (\r\n        <li>loading ...</li>\r\n      )}\r\n    </ul>\r\n  );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}