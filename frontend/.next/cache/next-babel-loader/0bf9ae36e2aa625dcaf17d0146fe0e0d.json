{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/munhagju/WebstormProjects/DoraemonPlate/frontend/pages/auth/register.tsx\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { TextField } from \"@material-ui/core\";\nimport { BACKEND_URL } from '../../config';\n\nconst RegisterForm = props => {\n  const [email, setEmail] = React.useState(\"\");\n  const [nickname, setNickname] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = React.useState(\"\");\n  const [agree, setAgree] = React.useState(false); // ValidationForm\n\n  const {\n    0: valiEmail,\n    1: setValiEmail\n  } = useState(\"\");\n  const {\n    0: valiPwd,\n    1: setValiPwd\n  } = useState(\"\");\n  const {\n    0: valiPwdConfirm,\n    1: setValiPwdConfirm\n  } = useState(\"\");\n\n  const handleOnSubmit = async e => {\n    e.preventDefault(); // if(!validationEmail(username, true)){\n    //   return false;\n    // }\n\n    if (!validationPasswd(password, true)) {\n      return false;\n    }\n\n    if (!validationPasswdConfirm(passwordConfirm, true)) {\n      return false;\n    }\n\n    if (!email || !password || !passwordConfirm) {\n      alert(\"정보를 모두 입력해주세요\");\n      return;\n    }\n\n    if (password !== passwordConfirm) {\n      alert(\"비밀번호와 비밀번호 확인이 일치하지 않습니다.\");\n      setPassword(\"\");\n      setPasswordConfirm(\"\");\n      return;\n    }\n\n    try {\n      const token = await axios.post(BACKEND_URL + \"/signup\", {\n        user_id: email,\n        password\n      }).catch(err => {\n        console.log(err);\n      });\n\n      if (token.status === 200) {\n        alert(\"회원가입 성공!\");\n        return;\n      } else {\n        alert(\"회원가입 실패\");\n        return;\n      }\n    } catch (err) {\n      alert(err);\n      setEmail(\"\");\n      setPassword(\"\");\n      setPasswordConfirm(\"\");\n      return;\n    }\n  }; // 이메일 정규표현식 체크\n\n\n  const validationEmail = (email, submit) => {\n    // var email = e.target.value;\n    setEmail(email);\n    var exptext = /^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\\.[A-Za-z0-9\\-]+/;\n\n    if (exptext.test(email) === false) {\n      if (email === \"\") {\n        //이메일 형식이 알파벳+숫자@알파벳+숫자.알파벳+숫자 형식이 아닐경우\n        if (submit) {\n          alert(\"이메일은 필수 입력 항목입니다.\");\n        } else {\n          setValiEmail(\"이메일은 필수 입력 항목입니다.\");\n        }\n      } else {\n        if (submit) {\n          alert(\"이메일 형식이 올바르지 않습니다.\");\n        } else {\n          setValiEmail(\"이메일 형식이 올바르지 않습니다.\");\n        }\n      }\n\n      return false;\n    }\n\n    setValiEmail(\"\");\n    return true;\n  };\n\n  const validationPasswd = (pw, submit) => {\n    setPassword(pw);\n    var num = pw.search(/[0-9]/g);\n    var eng = pw.search(/[a-z]/gi);\n\n    if (pw.length < 8 || pw.length > 20) {\n      if (submit) {\n        alert(\"8자리 ~ 20자리 이내로 입력해주세요.\");\n      } else {\n        setValiPwd(\"8자리 ~ 20자리 이내로 입력해주세요.\");\n      }\n\n      return false;\n    } else if (pw.search(/\\s/) !== -1) {\n      if (submit) {\n        alert(\"비밀번호는 공백 없이 입력해주세요.\");\n      } else {\n        setValiPwd(\"비밀번호는 공백 없이 입력해주세요.\");\n      }\n\n      return false;\n    } else if (num < 0 || eng < 0) {\n      if (submit) {\n        alert(\"영문,숫자를 혼합하여 입력해주세요.\");\n      } else {\n        setValiPwd(\"영문,숫자를 혼합하여 입력해주세요.\");\n      }\n\n      return false;\n    } else {\n      setValiPwd(\"\");\n      return true;\n    }\n  };\n\n  const validationPasswdConfirm = (pwConfirm, submit) => {\n    setPasswordConfirm(pwConfirm);\n\n    if (password !== pwConfirm) {\n      if (submit) {\n        alert(\"비밀번호와 비밀번호 확인이 일치하지 않습니다.\");\n      } else {\n        setValiPwdConfirm(\"비밀번호와 비밀번호 확인이 일치하지 않습니다.\");\n      }\n\n      return false;\n    } else {\n      setValiPwdConfirm(\"\");\n      return true;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ViewWrapper, {\n    children: /*#__PURE__*/_jsxDEV(LoginFormWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginTextField, {\n        label: \"\\uC774\\uBA54\\uC77C\",\n        type: \"text\",\n        val: email,\n        setVal: setEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginTextField, {\n        label: \"\\uB2C9\\uB124\\uC784\",\n        type: \"text\",\n        val: nickname,\n        setVal: setNickname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginTextField, {\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        type: \"password\",\n        val: password,\n        setVal: setPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginTextField, {\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n        type: \"password\",\n        val: passwordConfirm,\n        setVal: setPasswordConfirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CheckboxWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"longsession\",\n          children: [\"\\uAC1C\\uC778\\uC815\\uBCF4 \\uCC98\\uB9AC\\uBC29\\uCE68 \\uB3D9\\uC758 (\\uD544\\uC218)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"longsession\",\n            type: \"checkbox\",\n            onChange: () => {\n              setAgree(!agree);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          href: \"/agree\",\n          children: \"\\uB0B4\\uC6A9\\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"longsession\",\n          children: [\"\\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC57D\\uAD00 \\uB3D9\\uC758 (\\uD544\\uC218)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"longsession\",\n            type: \"checkbox\",\n            onChange: () => {\n              setAgree(!agree);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          href: \"/agree\",\n          children: \"\\uB0B4\\uC6A9\\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        text: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ForgotPassword, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/auth/find/password\",\n          children: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC78A\\uC73C\\uC168\\uB098\\uC694?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NoAccount, {\n        children: [\"\\uC774\\uBBF8 \\uACC4\\uC815\\uC774 \\uC788\\uC73C\\uC2E0\\uAC00\\uC694? \", /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/auth/login\",\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n\nconst Title = styled.div.withConfig({\n  displayName: \"register__Title\",\n  componentId: \"gxwx7q-0\"\n})([\"width:100%;font-size:30px;font-weight:700;\"]);\nconst ViewWrapper = styled.form.withConfig({\n  displayName: \"register__ViewWrapper\",\n  componentId: \"gxwx7q-1\"\n})([\"display:flex;flex-flow:row wrap;justify-content:center;align-items:center;width:100%;height:100vh;padding:10px;background:#ededed;\"]);\nconst LoginFormWrapper = styled.div.withConfig({\n  displayName: \"register__LoginFormWrapper\",\n  componentId: \"gxwx7q-2\"\n})([\"position:relative;width:500px;height:auto;background:white;border-radius:5px;padding:60px 25px;@media (min-width:768px){padding:80px 40px;}@media (min-width:1024px){padding:90px 60px;}\"]);\nconst NoAccount = styled.div.withConfig({\n  displayName: \"register__NoAccount\",\n  componentId: \"gxwx7q-3\"\n})([\"width:100%;position:absolute;text-align:center;bottom:-35px;left:0;\"]);\nconst CheckboxWrapper = styled.div.withConfig({\n  displayName: \"register__CheckboxWrapper\",\n  componentId: \"gxwx7q-4\"\n})([\"font-size:14px;input{margin-left:6px;position:relative;top:2px;}\"]);\nconst ForgotPassword = styled.div.withConfig({\n  displayName: \"register__ForgotPassword\",\n  componentId: \"gxwx7q-5\"\n})([\"width:100%;text-align:center;margin-top:20px;\"]);\n\nconst LoginTextField = props => {\n  const {\n    label,\n    type,\n    val,\n    setVal\n  } = props;\n  return /*#__PURE__*/_jsxDEV(FieldWrapper, {\n    children: /*#__PURE__*/_jsxDEV(TextField, {\n      label: label,\n      fullWidth: true,\n      value: val,\n      type: type,\n      onChange: e => {\n        setVal(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n};\n\nconst FieldWrapper = styled.div.withConfig({\n  displayName: \"register__FieldWrapper\",\n  componentId: \"gxwx7q-6\"\n})([\"width:100%;padding:5px;margin-bottom:15px;\"]);\n\nconst SubmitButton = props => {\n  const {\n    text\n  } = props;\n  return /*#__PURE__*/_jsxDEV(SubmitBtn, {\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 10\n  }, this);\n};\n\nconst SubmitBtn = styled.button.withConfig({\n  displayName: \"register__SubmitBtn\",\n  componentId: \"gxwx7q-7\"\n})([\"box-shadow:none;border:none;width:100%;line-height:45px;background:#0abab5;color:#fff;font-size:16px;margin-top:30px;@media (min-width:768px){font-size:17px;}@media (min-width:1024px){line-height:50px;font-size:18px;}\"]);\nexport default RegisterForm;","map":{"version":3,"sources":["/Users/munhagju/WebstormProjects/DoraemonPlate/frontend/pages/auth/register.tsx"],"names":["React","useState","styled","Link","axios","TextField","BACKEND_URL","RegisterForm","props","email","setEmail","nickname","setNickname","password","setPassword","passwordConfirm","setPasswordConfirm","agree","setAgree","valiEmail","setValiEmail","valiPwd","setValiPwd","valiPwdConfirm","setValiPwdConfirm","handleOnSubmit","e","preventDefault","validationPasswd","validationPasswdConfirm","alert","token","post","user_id","catch","err","console","log","status","validationEmail","submit","exptext","test","pw","num","search","eng","length","pwConfirm","Title","div","ViewWrapper","form","LoginFormWrapper","NoAccount","CheckboxWrapper","ForgotPassword","LoginTextField","label","type","val","setVal","target","value","FieldWrapper","SubmitButton","text","SubmitBtn","button"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { TextField } from \"@material-ui/core\";\nimport { BACKEND_URL } from '../../config';\n\nconst RegisterForm = (props) => {\n  const [email, setEmail] = React.useState(\"\");\n  const [nickname, setNickname] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = React.useState(\"\");\n  const [agree, setAgree] = React.useState(false);\n\n  // ValidationForm\n  const [valiEmail, setValiEmail] = useState(\"\");\n  const [valiPwd, setValiPwd] = useState(\"\");\n  const [valiPwdConfirm, setValiPwdConfirm] = useState(\"\");\n \n  const handleOnSubmit = async (e) => {\n    e.preventDefault();\n\n    // if(!validationEmail(username, true)){\n    //   return false;\n    // }\n\n    if (!validationPasswd(password, true)) {\n      return false;\n    }\n\n    if (!validationPasswdConfirm(passwordConfirm, true)) {\n      return false;\n    }\n\n    if (!email || !password || !passwordConfirm) {\n      alert(\"정보를 모두 입력해주세요\");\n      return;\n    }\n\n    if (password !== passwordConfirm) {\n      alert(\"비밀번호와 비밀번호 확인이 일치하지 않습니다.\");\n      setPassword(\"\");\n      setPasswordConfirm(\"\");\n      return;\n    }\n\n    try {\n      const token:any = await axios \n        .post(BACKEND_URL + \"/signup\", {\n          user_id: email,\n          password,\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      if (token.status === 200) {\n        alert(\"회원가입 성공!\"); \n        return;\n      } else {\n        alert(\"회원가입 실패\");\n        return;\n      }\n    } catch (err) {\n      alert(err);\n      setEmail(\"\");\n      setPassword(\"\");\n      setPasswordConfirm(\"\");\n      return;\n    }\n  };\n\n\n  // 이메일 정규표현식 체크\n  const validationEmail = (email, submit) => {\n    // var email = e.target.value;\n    setEmail(email);\n    var exptext = /^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\\.[A-Za-z0-9\\-]+/;\n    if (exptext.test(email) === false) {\n      if (email === \"\") {\n        //이메일 형식이 알파벳+숫자@알파벳+숫자.알파벳+숫자 형식이 아닐경우\n        if (submit) {\n          alert(\"이메일은 필수 입력 항목입니다.\");\n        } else {\n          setValiEmail(\"이메일은 필수 입력 항목입니다.\");\n        }\n      } else {\n        if (submit) {\n          alert(\"이메일 형식이 올바르지 않습니다.\");\n        } else {\n          setValiEmail(\"이메일 형식이 올바르지 않습니다.\");\n        }\n      }\n      return false;\n    }\n    setValiEmail(\"\");\n    return true;\n  };\n\n  const validationPasswd = (pw, submit) => {\n    setPassword(pw);\n    var num = pw.search(/[0-9]/g);\n    var eng = pw.search(/[a-z]/gi);\n\n    if (pw.length < 8 || pw.length > 20) {\n      if (submit) {\n        alert(\"8자리 ~ 20자리 이내로 입력해주세요.\");\n      } else {\n        setValiPwd(\"8자리 ~ 20자리 이내로 입력해주세요.\");\n      }\n      return false;\n    } else if (pw.search(/\\s/) !== -1) {\n      if (submit) {\n        alert(\"비밀번호는 공백 없이 입력해주세요.\");\n      } else {\n        setValiPwd(\"비밀번호는 공백 없이 입력해주세요.\");\n      }\n      return false;\n    } else if (num < 0 || eng < 0) {\n      if (submit) {\n        alert(\"영문,숫자를 혼합하여 입력해주세요.\");\n      } else {\n        setValiPwd(\"영문,숫자를 혼합하여 입력해주세요.\");\n      }\n      return false;\n    } else {\n      setValiPwd(\"\");\n      return true;\n    }\n  };\n\n  const validationPasswdConfirm = (pwConfirm, submit) => {\n    setPasswordConfirm(pwConfirm);\n    if (password !== pwConfirm) {\n      if (submit) {\n        alert(\"비밀번호와 비밀번호 확인이 일치하지 않습니다.\");\n      } else {\n        setValiPwdConfirm(\"비밀번호와 비밀번호 확인이 일치하지 않습니다.\");\n      }\n      return false;\n    } else {\n      setValiPwdConfirm(\"\");\n      return true;\n    }\n  };\n\n  return (\n    <ViewWrapper>\n      <LoginFormWrapper>\n        <Title>Sign up</Title>\n        <LoginTextField\n          label=\"이메일\"\n          type=\"text\"\n          val={email}\n          setVal={setEmail}\n        />\n        <LoginTextField\n          label=\"닉네임\"\n          type=\"text\"\n          val={nickname}\n          setVal={setNickname}\n        />\n        <LoginTextField\n          label=\"비밀번호\"\n          type=\"password\"\n          val={password}\n          setVal={setPassword}\n        />\n\n        <LoginTextField\n          label=\"비밀번호 확인\"\n          type=\"password\"\n          val={passwordConfirm}\n          setVal={setPasswordConfirm}\n        />\n        <CheckboxWrapper>\n          <label htmlFor=\"longsession\">\n            개인정보 처리방침 동의 (필수)\n            <input\n              id=\"longsession\"\n              type=\"checkbox\"\n              onChange={() => {\n                setAgree(!agree);\n              }}\n            />\n          </label>\n          &nbsp;&nbsp;\n          <a target=\"_blank\" href=\"/agree\">\n            내용보기\n          </a>\n          <br />\n          <br />\n          <label htmlFor=\"longsession\">\n            서비스 이용약관 동의 (필수)\n            <input\n              id=\"longsession\"\n              type=\"checkbox\"\n              onChange={() => {\n                setAgree(!agree);\n              }}\n            />\n          </label>\n          &nbsp;&nbsp;\n          <a target=\"_blank\" href=\"/agree\">\n            내용보기\n          </a>\n        </CheckboxWrapper>\n        <SubmitButton text=\"로그인\" />\n        <ForgotPassword>\n          <Link href=\"/auth/find/password\">비밀번호를 잊으셨나요?</Link>\n        </ForgotPassword>\n        <NoAccount>\n          이미 계정이 있으신가요? <Link href=\"/auth/login\">로그인</Link>\n        </NoAccount>\n      </LoginFormWrapper>\n    </ViewWrapper>\n  );\n};\nconst Title = styled.div`\n  width: 100%;\n  font-size: 30px;\n  font-weight: 700;\n`;\nconst ViewWrapper = styled.form`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  padding: 10px;\n  background: #ededed;\n`;\nconst LoginFormWrapper = styled.div`\n  position: relative;\n  width: 500px;\n  height: auto;\n  background: white;\n  border-radius: 5px;\n  padding: 60px 25px;\n  @media (min-width: 768px) {\n    padding: 80px 40px;\n  }\n  @media (min-width: 1024px) {\n    padding: 90px 60px;\n  }\n`;\n\nconst NoAccount = styled.div`\n  width: 100%;\n  position: absolute;\n  text-align: center;\n  bottom: -35px;\n  left: 0;\n`;\n\nconst CheckboxWrapper = styled.div`\n  font-size: 14px;\n  input {\n    margin-left: 6px;\n    position: relative;\n    top: 2px;\n  }\n`;\n\nconst ForgotPassword = styled.div`\n  width: 100%;\n  text-align: center;\n  margin-top: 20px;\n`;\n\n\nconst LoginTextField = (props) => {\n  const { label, type, val, setVal } = props;\n  return (\n    <FieldWrapper>\n      <TextField\n        label={label}\n        fullWidth\n        value={val}\n        type={type}\n        onChange={(e) => {\n          setVal(e.target.value);\n        }}\n      />\n    </FieldWrapper>\n  );\n};\n\nconst FieldWrapper = styled.div`\n  width: 100%;\n  padding: 5px;\n  margin-bottom: 15px;\n`;\n\n\nconst SubmitButton = (props) => {\n  const { text } = props;\n  return <SubmitBtn>{text}</SubmitBtn>;\n};\n\nconst SubmitBtn = styled.button`\n  box-shadow: none;\n  border: none;\n  width: 100%;\n  line-height: 45px;\n  background: #0abab5;\n  color: #fff;\n  font-size: 16px;\n  margin-top: 30px;\n\n  @media (min-width: 768px) {\n    font-size: 17px;\n  }\n  @media (min-width: 1024px) {\n    line-height: 50px;\n    font-size: 18px;\n  }\n`;\n\nexport default RegisterForm;\n"]},"metadata":{},"sourceType":"module"}