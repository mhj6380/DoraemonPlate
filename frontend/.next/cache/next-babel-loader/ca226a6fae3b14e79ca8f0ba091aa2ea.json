{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/munhagju/DoraemonPlateV1/frontend/components/form/QuillEditorField.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport dynamic from 'next/dynamic';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport axios from 'axios'; // import ReactQuill from 'react-quill'; // Typescript\n\nimport 'react-quill/dist/quill.snow.css';\nconst ReactQuill = dynamic(() => import('react-quill'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('react-quill')],\n    modules: ['react-quill']\n  }\n});\nconst QuillEditorFieldWrapper = styled.div.withConfig({\n  displayName: \"QuillEditorField__QuillEditorFieldWrapper\",\n  componentId: \"kd8r5m-0\"\n})([\"width:100%;min-height:240px;display:flex;flex-flow:row wrap;background:#fff;.rdw-editor-main{img{width:100% !important;height:auto;}}\"]);\nconst PaddingWrapper = styled.div.withConfig({\n  displayName: \"QuillEditorField__PaddingWrapper\",\n  componentId: \"kd8r5m-1\"\n})([\"width:100%;padding:15px;\"]);\n\nconst QuillEditorField = ({\n  val,\n  setVal,\n  editMode,\n  currentVal\n}) => {\n  const onChangeEditor = value => {\n    setVal(value);\n  };\n\n  const uploadCallback = file => {\n    console.log('FILE', file);\n    return new Promise((resolve, reject) => {\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        console.log(reader.result);\n        axios.post('https://wizmedia.me:8080/api/playmango/upload', {\n          blur: false,\n          image: [reader.result]\n        }).then(res => {\n          console.log(res.data[0].fileName);\n          resolve({\n            data: {\n              link: res.data[0].fileName\n            }\n          });\n        }).catch(err => {\n          reject(err);\n        });\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(QuillEditorFieldWrapper, {\n    children: /*#__PURE__*/_jsxDEV(PaddingWrapper, {\n      children: /*#__PURE__*/_jsxDEV(ReactQuill, {\n        theme: \"snow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\nexport default QuillEditorField;","map":{"version":3,"sources":["/Users/munhagju/DoraemonPlateV1/frontend/components/form/QuillEditorField.tsx"],"names":["React","styled","dynamic","axios","ReactQuill","ssr","QuillEditorFieldWrapper","div","PaddingWrapper","QuillEditorField","val","setVal","editMode","currentVal","onChangeEditor","value","uploadCallback","file","console","log","Promise","resolve","reject","reader","FileReader","onloadend","result","post","blur","image","then","res","data","fileName","link","catch","err","readAsDataURL"],"mappings":";;AAAA,OAAOA,KAAP,MAAgD,OAAhD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAO,kDAAP;AAEA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,iCAAP;AAEA,MAAMC,UAAe,GAAGF,OAAO,CAAC,MAAM,OAAO,aAAP,CAAP,EAA8B;AAC3DG,EAAAA,GAAG,EAAE,KADsD;AAAA;AAAA,wCAAhB,aAAgB;AAAA,cAAhB,aAAgB;AAAA;AAAA,CAA9B,CAA/B;AAIA,MAAMC,uBAAuB,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,6IAA7B;AAeA,MAAMC,cAAc,GAAGP,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,gCAApB;;AAYA,MAAME,gBAAgB,GAAG,CAAC;AACxBC,EAAAA,GADwB;AAExBC,EAAAA,MAFwB;AAGxBC,EAAAA,QAHwB;AAIxBC,EAAAA;AAJwB,CAAD,KAKC;AACxB,QAAMC,cAAc,GAAIC,KAAD,IAAmB;AACxCJ,IAAAA,MAAM,CAACI,KAAD,CAAN;AACD,GAFD;;AAIA,QAAMC,cAAc,GAAIC,IAAD,IAAU;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;AAEA,WAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AAEAD,MAAAA,MAAM,CAACE,SAAP,GAAmB,YAAY;AAC7BP,QAAAA,OAAO,CAACC,GAAR,CAAYI,MAAM,CAACG,MAAnB;AACAvB,QAAAA,KAAK,CACFwB,IADH,CACQ,+CADR,EACyD;AACrDC,UAAAA,IAAI,EAAE,KAD+C;AAErDC,UAAAA,KAAK,EAAE,CAACN,MAAM,CAACG,MAAR;AAF8C,SADzD,EAKGI,IALH,CAKSC,GAAD,IAAc;AAClBb,UAAAA,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACC,IAAJ,CAAS,CAAT,EAAYC,QAAxB;AACAZ,UAAAA,OAAO,CAAC;AAAEW,YAAAA,IAAI,EAAE;AAAEE,cAAAA,IAAI,EAAEH,GAAG,CAACC,IAAJ,CAAS,CAAT,EAAYC;AAApB;AAAR,WAAD,CAAP;AACD,SARH,EASGE,KATH,CASUC,GAAD,IAAc;AACnBd,UAAAA,MAAM,CAACc,GAAD,CAAN;AACD,SAXH;AAYD,OAdD;;AAgBAb,MAAAA,MAAM,CAACc,aAAP,CAAqBpB,IAArB;AACD,KApBM,CAAP;AAqBD,GAxBD;;AA0BA,sBACE,QAAC,uBAAD;AAAA,2BACE,QAAC,cAAD;AAAA,6BACE,QAAC,UAAD;AAAY,QAAA,KAAK,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CA3CD;;AA6CA,eAAeR,gBAAf","sourcesContent":["import React, { Dispatch, SetStateAction } from 'react';\nimport styled from 'styled-components';\nimport dynamic from 'next/dynamic';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { EditorState, convertFromHTML, ContentState } from 'draft-js';\nimport axios from 'axios';\n\n// import ReactQuill from 'react-quill'; // Typescript\nimport 'react-quill/dist/quill.snow.css';\n\nconst ReactQuill: any = dynamic(() => import('react-quill'), {\n  ssr: false,\n});\n\nconst QuillEditorFieldWrapper = styled.div`\n  width: 100%;\n  min-height: 240px;\n  display: flex;\n  flex-flow: row wrap;\n  background: #fff;\n  .rdw-editor-main {\n    //에디터 내에 이미지 커스텀 사이징\n    img {\n      width: 100% !important;\n      height: auto;\n    }\n  }\n`;\n\nconst PaddingWrapper = styled.div`\n  width: 100%;\n  padding: 15px;\n`;\n\ninterface Props {\n  val: any;\n  setVal: any;\n  editMode?: boolean;\n  currentVal?: string;\n}\n\nconst QuillEditorField = ({\n  val,\n  setVal,\n  editMode,\n  currentVal,\n}: Props): JSX.Element => {\n  const onChangeEditor = (value: string) => {\n    setVal(value);\n  };\n\n  const uploadCallback = (file) => {\n    console.log('FILE', file);\n\n    return new Promise((resolve, reject) => {\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        console.log(reader.result);\n        axios\n          .post('https://wizmedia.me:8080/api/playmango/upload', {\n            blur: false,\n            image: [reader.result],\n          })\n          .then((res: any) => {\n            console.log(res.data[0].fileName);\n            resolve({ data: { link: res.data[0].fileName } });\n          })\n          .catch((err: any) => {\n            reject(err);\n          });\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return (\n    <QuillEditorFieldWrapper>\n      <PaddingWrapper>\n        <ReactQuill theme=\"snow\" />\n      </PaddingWrapper>\n    </QuillEditorFieldWrapper>\n  );\n};\n\nexport default QuillEditorField;\n"]},"metadata":{},"sourceType":"module"}