{"ast":null,"code":"import { useContext, useMemo } from \"react\";\nimport UserProfileContext from \"../profile/UserProfileContext\";\nimport SocketContext from \"./SocketContext\";\nexport function useRoomState() {\n  const profile = useContext(UserProfileContext);\n  const socket = useContext(SocketContext);\n  const joinable = useMemo(() =>\n  /* connected */\n  socket &&\n  /* profile set */\n  profile &&\n  /* not yet joined to any room */\n  !socket.roomId &&\n  /* user name set */\n  profile.name &&\n  /* user name non-empty string */\n  profile.name.length > 0, [socket, profile]);\n  const joined = useMemo(() => !!(socket === null || socket === void 0 ? void 0 : socket.roomId), [socket]);\n  return {\n    joined,\n    joinable\n  };\n}","map":{"version":3,"sources":["/Users/munhagju/DoraemonPlateV1/frontend/components/contexts/socket/useRoomState.ts"],"names":["useContext","useMemo","UserProfileContext","SocketContext","useRoomState","profile","socket","joinable","roomId","name","length","joined"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,OAArB,QAAoC,OAApC;AAEA,OAAOC,kBAAP,MAA+B,+BAA/B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAcA,OAAO,SAASC,YAAT,GAAwC;AAC7C,QAAMC,OAAO,GAAGL,UAAU,CAACE,kBAAD,CAA1B;AACA,QAAMI,MAAM,GAAGN,UAAU,CAACG,aAAD,CAAzB;AAEA,QAAMI,QAAQ,GAAGN,OAAO,CACtB;AACE;AAAgBK,EAAAA,MAAM;AACtB;AAAkBD,EAAAA,OADF;AAEhB;AAAiC,GAACC,MAAM,CAACE,MAFzB;AAGhB;AAAoBH,EAAAA,OAAO,CAACI,IAHZ;AAIhB;AAAiCJ,EAAAA,OAAO,CAACI,IAAR,CAAaC,MAAb,GAAsB,CANnC,EAOtB,CAACJ,MAAD,EAASD,OAAT,CAPsB,CAAxB;AAUA,QAAMM,MAAM,GAAGV,OAAO,CAAC,MAAM,CAAC,EAACK,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEE,MAAT,CAAR,EAAyB,CAACF,MAAD,CAAzB,CAAtB;AAEA,SAAO;AAAEK,IAAAA,MAAF;AAAUJ,IAAAA;AAAV,GAAP;AACD","sourcesContent":["import { useContext, useMemo } from \"react\";\r\n\r\nimport UserProfileContext from \"../profile/UserProfileContext\";\r\nimport SocketContext from \"./SocketContext\";\r\n\r\ninterface RoomStateIface {\r\n  /**\r\n   * true if connected but joined\r\n   */\r\n  readonly joinable: boolean;\r\n\r\n  /**\r\n   * true if joined\r\n   */\r\n  readonly joined: boolean;\r\n}\r\n\r\nexport function useRoomState(): RoomStateIface {\r\n  const profile = useContext(UserProfileContext);\r\n  const socket = useContext(SocketContext);\r\n\r\n  const joinable = useMemo(\r\n    () =>\r\n      /* connected */ socket &&\r\n      /* profile set */ profile &&\r\n      /* not yet joined to any room */ !socket.roomId &&\r\n      /* user name set */ profile.name &&\r\n      /* user name non-empty string */ profile.name.length > 0,\r\n    [socket, profile]\r\n  );\r\n\r\n  const joined = useMemo(() => !!socket?.roomId, [socket]);\r\n\r\n  return { joined, joinable };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}