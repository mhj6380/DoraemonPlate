{"ast":null,"code":"import _regeneratorRuntime from \"/Users/munhagju/DoraemonPlateV1/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/munhagju/DoraemonPlateV1/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/munhagju/DoraemonPlateV1/frontend/lib/hoc/withSwrSsrFeed.tsx\",\n    _this = this;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from '../../util/axios';\n\nvar withRequest = function withRequest(url) {\n  return function (_ref) {\n    var _s = $RefreshSig$();\n\n    var props = _ref.props;\n\n    // return <div>TESTIN</div>;\n    var ChildComp = function ChildComp() {\n      _s();\n\n      var _useState = useState(null),\n          datas = _useState[0],\n          setDatas = _useState[1];\n\n      useEffect(function () {\n        initialize();\n      }, []);\n\n      var initialize = /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var response;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return axios.get(url);\n\n                case 2:\n                  response = _context.sent;\n                  setDatas(response.data);\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function initialize() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n\n      return /*#__PURE__*/_jsxDEV(props.WrappedComponent, {\n        datas: datas,\n        test: props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 12\n      }, _this);\n    };\n\n    _s(ChildComp, \"4HwgS9epWcqiatzDqNBB1gUHuCw=\");\n\n    return ChildComp;\n  };\n}; // SSR\n\n\nexport var getServerSideProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(context) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // const { bo_id } = context.query;\n            // const fetcher = async (url: string) => {\n            //   const resp = await axios.get(url);\n            //   return resp.data;\n            // };\n            // const board = await fetcher(`${BACKEND_URL}/board/${bo_id}`);\n            console.log('SSR');\n            return _context2.abrupt(\"return\", {\n              props: {\n                test: 'test'\n              }\n            });\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getServerSideProps(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport default withRequest;","map":{"version":3,"sources":["/Users/munhagju/DoraemonPlateV1/frontend/lib/hoc/withSwrSsrFeed.tsx"],"names":["React","useState","useEffect","axios","withRequest","url","props","ChildComp","datas","setDatas","initialize","get","response","data","getServerSideProps","context","console","log","test"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,kBAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD;AAAA,SAAiB,gBAAoB;AAAA;;AAAA,QAAjBC,KAAiB,QAAjBA,KAAiB;;AACvD;AAEA,QAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AAAA,sBACIN,QAAQ,CAAC,IAAD,CADZ;AAAA,UACfO,KADe;AAAA,UACRC,QADQ;;AAGtBP,MAAAA,SAAS,CAAC,YAAM;AACdQ,QAAAA,UAAU;AACX,OAFQ,EAEN,EAFM,CAAT;;AAIA,UAAMA,UAAU;AAAA,6EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACMP,KAAK,CAACQ,GAAN,CAAUN,GAAV,CADN;;AAAA;AACXO,kBAAAA,QADW;AAEjBH,kBAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;;AAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAH;;AAAA,wBAAVH,UAAU;AAAA;AAAA;AAAA,SAAhB;;AAKA,0BAAO,QAAC,KAAD,CAAO,gBAAP;AAAwB,QAAA,KAAK,EAAEF,KAA/B;AAAsC,QAAA,IAAI,EAAEF;AAA5C;AAAA;AAAA;AAAA;AAAA,eAAP;AACD,KAbD;;AAHuD,OAGjDC,SAHiD;;AAkBvD,WAAOA,SAAP;AACD,GAnBmB;AAAA,CAApB,C,CAqBA;;;AACA,OAAO,IAAMO,kBAAkB;AAAA,uEAAG,kBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAChC;AAEA;AACA;AACA;AACA;AAEA;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AATgC,8CAWzB;AACLX,cAAAA,KAAK,EAAE;AACLY,gBAAAA,IAAI,EAAE;AADD;AADF,aAXyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAlBJ,kBAAkB;AAAA;AAAA;AAAA,GAAxB;AAkBP,eAAeV,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useSWR from 'swr';\nimport axios from '../../util/axios';\n\nconst withRequest = (url: string) => ({ props }: any) => {\n  // return <div>TESTIN</div>;\n\n  const ChildComp = () => {\n    const [datas, setDatas] = useState(null);\n\n    useEffect(() => {\n      initialize();\n    }, []);\n\n    const initialize = async () => {\n      const response = await axios.get(url);\n      setDatas(response.data);\n    };\n\n    return <props.WrappedComponent datas={datas} test={props} />;\n  };\n\n  return ChildComp;\n};\n\n// SSR\nexport const getServerSideProps = async (context: any) => {\n  // const { bo_id } = context.query;\n\n  // const fetcher = async (url: string) => {\n  //   const resp = await axios.get(url);\n  //   return resp.data;\n  // };\n\n  // const board = await fetcher(`${BACKEND_URL}/board/${bo_id}`);\n  console.log('SSR');\n\n  return {\n    props: {\n      test: 'test',\n    },\n  };\n};\n\nexport default withRequest;\n"]},"metadata":{},"sourceType":"module"}