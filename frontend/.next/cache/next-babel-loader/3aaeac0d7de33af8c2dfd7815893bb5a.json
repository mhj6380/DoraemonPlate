{"ast":null,"code":"import _toConsumableArray from \"/Users/munhagju/DoraemonPlateV1/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/munhagju/DoraemonPlateV1/frontend/pages/chat/index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // import AppLayout from \"../../components/layout/AppLayout\";\n\nimport TransitionLayout from \"../../components/layout/TransitionLayout\";\nimport BasicPageTitle from '../../components/layout/pagetitle/BasicPageTitle';\nimport { io } from 'socket.io-client';\nimport { Formik, Form } from \"formik\";\nimport BasicTextField from \"../../components/form/material/BasicTextField\";\nvar socket = io('http://localhost:8080');\n\nvar ChatPage = function ChatPage() {\n  _s();\n\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(''),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState([]),\n      messages = _useState3[0],\n      setMessages = _useState3[1];\n\n  useEffect(function () {\n    function receivedMessage(message) {\n      var newMessage = {\n        id: \"test\",\n        name: message.name,\n        text: message.text\n      };\n      setMessages([].concat(_toConsumableArray(messages), [newMessage]));\n    }\n\n    socket.on('message', function (message) {\n      receivedMessage(message);\n    });\n  }, [messages, name, text]);\n\n  function sendMessage() {\n    var message = {\n      name: name,\n      text: text\n    };\n    socket.emit('message', message);\n    setText('');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(BasicPageTitle, {\n      title: \"\\uCC44\\uD305\",\n      description: \"\\uCC44\\uD305 \\uD398\\uC774\\uC9C0 \\uC791\\uC5C5\\uC608\\uC815\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(TransitionLayout, {\n      title: \"\\uCC44\\uD305\",\n      requiredLogin: true,\n      children: [\"CHAT\", /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          text: \"\",\n          isbool: false,\n          checks: [],\n          nation: '',\n          friends: [{\n            name: '',\n            email: '',\n            isCheck: ''\n          }]\n        },\n        validate: function validate(values) {\n          var errors = {}; // text에  !나 ? 가 들어가면 에러를 뿜는 예제 \n\n          if (values.text.includes(\"!\") || values.text.includes(\"?\")) {\n            errors.text = \"! or ? cannot be username\";\n          }\n\n          return errors;\n        },\n        onSubmit: function onSubmit(data, _ref) {\n          var setSubmitting = _ref.setSubmitting;\n          setSubmitting(true);\n          console.log(data);\n          setSubmitting(false);\n        },\n        children: function children(_ref2) {\n          var isSubmitting = _ref2.isSubmitting,\n              values = _ref2.values;\n          return /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(BasicTextField, {\n                name: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 23\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 23\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(BasicCheckbox, {\n                name: \"checks\",\n                value: \"React\",\n                label: \"React\",\n                type: \"checkbox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, _this), /*#__PURE__*/_jsxDEV(BasicCheckbox, {\n                name: \"checks\",\n                value: \"Redux\",\n                label: \"Redux\",\n                type: \"checkbox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 23\n              }, _this), /*#__PURE__*/_jsxDEV(BasicCheckbox, {\n                name: \"checks\",\n                value: \"Vue\",\n                label: \"Vue\",\n                type: \"checkbox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 23\n              }, _this), /*#__PURE__*/_jsxDEV(BasicCheckbox, {\n                name: \"checks\",\n                value: \"MobX\",\n                label: \"MobX\",\n                type: \"checkbox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 23\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(BasicRadio, {\n                  name: \"nation\",\n                  value: \"Korea\",\n                  label: \"Korea\",\n                  type: \"radio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/_jsxDEV(BasicRadio, {\n                  name: \"nation\",\n                  value: \"Japan\",\n                  label: \"Japan\",\n                  type: \"radio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 25\n                }, _this), /*#__PURE__*/_jsxDEV(BasicRadio, {\n                  name: \"nation\",\n                  value: \"China\",\n                  label: \"China\",\n                  type: \"radio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 25\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 23\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Upload Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Dynamic Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(BasicFieldArray, {\n              datas: values.friends\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 23\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                border: \"2px solid black\"\n              },\n              type: \"submit\",\n              color: \"default\",\n              disabled: isSubmitting,\n              disableElevation: true,\n              disableRipple: true,\n              fullWidth: true,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 23\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, _this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(ChatPage, \"oCpVWIGw08j3RVHZzOKS2VxzRQs=\");\n\n_c = ChatPage;\nexport default ChatPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"sources":["/Users/munhagju/DoraemonPlateV1/frontend/pages/chat/index.tsx"],"names":["React","useState","useEffect","TransitionLayout","BasicPageTitle","io","Formik","Form","BasicTextField","socket","ChatPage","name","setName","text","setText","messages","setMessages","receivedMessage","message","newMessage","id","on","sendMessage","emit","isbool","checks","nation","friends","email","isCheck","values","errors","includes","data","setSubmitting","console","log","isSubmitting","border"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\n// import AppLayout from \"../../components/layout/AppLayout\";\nimport TransitionLayout from \"../../components/layout/TransitionLayout\"; \nimport BasicPageTitle from '../../components/layout/pagetitle/BasicPageTitle';  \nimport { io } from 'socket.io-client';\nimport { Formik, Form } from \"formik\";\nimport BasicTextField from \"../../components/form/material/BasicTextField\"; \n\ninterface Message {\n  id: string; \n  name: string; \n  text: string;\n}\n\ninterface Payload{\n  name: string;\n  text: string;\n}\nconst socket = io('http://localhost:8080');\n\nconst ChatPage = (): JSX.Element => {   \n  const [name, setName] = useState('');\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState<Message[]>([]);\n\n  useEffect(() => {\n    \n    function receivedMessage(message: Payload) {\n      const newMessage: Message = {\n        id: \"test\",\n        name: message.name,\n        text: message.text\n      }\n\n      setMessages([...messages, newMessage]);\n    }\n\n    socket.on('message', (message: Payload) => {\n      receivedMessage(message);\n    });\n  }, [messages, name, text]);  \n\n\n  function sendMessage() {\n    const message: Payload = {\n      name,\n      text\n    }\n    socket.emit('message', message);\n    setText('');\n  }\n\n  return ( \n    <>\n      <BasicPageTitle title=\"채팅\" description=\"채팅 페이지 작업예정\" />  \n      <TransitionLayout title=\"채팅\" requiredLogin={true}>  \n        CHAT \n\n        <Formik initialValues={{ text: \"\", isbool: false, checks: [], nation: '', friends: [\n    {\n      name: '',\n      email: '', \n      isCheck:'',\n    },\n  ], }}\n        validate={values => {\n          const errors: Record<string, string> = {} \n          // text에  !나 ? 가 들어가면 에러를 뿜는 예제 \n          if (values.text.includes(\"!\") || values.text.includes(\"?\")) {  \n            errors.text = \"! or ? cannot be username\" \n          }\n          return errors;\n        }}\n        onSubmit={(data, { setSubmitting }) => {\n              setSubmitting(true) \n\n              console.log(data)\n        \n              setSubmitting(false) \n            }}>\n\n            { \n                ({ isSubmitting, values }) => (\n                <Form> \n                      <div>\n                      <BasicTextField name=\"text\" />  \n                    </div>\n                    <div>\n                      <BasicCheckbox name=\"checks\" value=\"React\" label=\"React\" type=\"checkbox\" />\n                      <BasicCheckbox name=\"checks\" value=\"Redux\" label=\"Redux\" type=\"checkbox\" />\n                      <BasicCheckbox name=\"checks\" value=\"Vue\" label=\"Vue\" type=\"checkbox\" />\n                      <BasicCheckbox name=\"checks\" value=\"MobX\" label=\"MobX\" type=\"checkbox\" /> \n                    </div>\n                    <div>\n                      <div>\n                        <BasicRadio name=\"nation\" value=\"Korea\" label=\"Korea\" type=\"radio\" /> \n                        <BasicRadio name=\"nation\" value=\"Japan\" label=\"Japan\" type=\"radio\" />\n                        <BasicRadio name=\"nation\" value=\"China\" label=\"China\" type=\"radio\" />\n                      </div> \n                    </div>\n\n                    <h3>Upload Form</h3>   \n                    \n                    <h3>Dynamic Form</h3>  \n                      <BasicFieldArray datas={values.friends} /> \n                      {/* {JSON.stringify(values)}  */}\n                      <Button style={{border: \"2px solid black\"}} type=\"submit\" color=\"default\" disabled={isSubmitting} disableElevation disableRipple fullWidth>Submit</Button>\n                </Form> \n                )  \n              }\n\n            </Formik>\n        \n      </TransitionLayout> \n    </>\n  ); \n};\n\n  \nexport default ChatPage; "]},"metadata":{},"sourceType":"module"}