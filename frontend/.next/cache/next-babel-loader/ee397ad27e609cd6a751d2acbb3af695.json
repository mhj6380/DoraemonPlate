{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport axios from '../../util/axios';\n\nconst withRequest = url => ({\n  props\n}) => {\n  // return <div>TESTIN</div>;\n  const ChildComp = () => {\n    const {\n      0: datas,\n      1: setDatas\n    } = useState(null);\n    useEffect(() => {\n      initialize();\n    }, []);\n\n    const initialize = async () => {\n      const response = await axios.get(url);\n      setDatas(response.data);\n    }; // return <WrappedComponent datas={datas} test={props} />;\n\n\n    return JSON.stringify(props);\n  };\n\n  return ChildComp;\n}; // SSR\n\n\nexport const getServerSideProps = async context => {\n  // const { bo_id } = context.query;\n  // const fetcher = async (url: string) => {\n  //   const resp = await axios.get(url);\n  //   return resp.data;\n  // };\n  // const board = await fetcher(`${BACKEND_URL}/board/${bo_id}`);\n  console.log('SSR');\n  return {\n    props: {\n      test: 'test'\n    }\n  };\n};\nexport default withRequest;","map":{"version":3,"sources":["/Users/munhagju/DoraemonPlateV1/frontend/lib/hoc/withSwrSsrFeed.tsx"],"names":["useState","useEffect","axios","withRequest","url","props","ChildComp","datas","setDatas","initialize","response","get","data","JSON","stringify","getServerSideProps","context","console","log","test"],"mappings":"AAAA,SAAgBA,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,kBAAlB;;AAEA,MAAMC,WAAW,GAAIC,GAAD,IAAiB,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAoB;AACvD;AAEA,QAAMC,SAAS,GAAG,MAAM;AACtB,UAAM;AAAA,SAACC,KAAD;AAAA,SAAQC;AAAR,QAAoBR,QAAQ,CAAC,IAAD,CAAlC;AAEAC,IAAAA,SAAS,CAAC,MAAM;AACdQ,MAAAA,UAAU;AACX,KAFQ,EAEN,EAFM,CAAT;;AAIA,UAAMA,UAAU,GAAG,YAAY;AAC7B,YAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAUP,GAAV,CAAvB;AACAI,MAAAA,QAAQ,CAACE,QAAQ,CAACE,IAAV,CAAR;AACD,KAHD,CAPsB,CAYtB;;;AACA,WAAOC,IAAI,CAACC,SAAL,CAAeT,KAAf,CAAP;AACD,GAdD;;AAgBA,SAAOC,SAAP;AACD,CApBD,C,CAsBA;;;AACA,OAAO,MAAMS,kBAAkB,GAAG,MAAOC,OAAP,IAAwB;AACxD;AAEA;AACA;AACA;AACA;AAEA;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AAEA,SAAO;AACLb,IAAAA,KAAK,EAAE;AACLc,MAAAA,IAAI,EAAE;AADD;AADF,GAAP;AAKD,CAhBM;AAkBP,eAAehB,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useSWR from 'swr';\nimport axios from '../../util/axios';\n\nconst withRequest = (url: string) => ({ props }: any) => {\n  // return <div>TESTIN</div>;\n\n  const ChildComp = () => {\n    const [datas, setDatas] = useState(null);\n\n    useEffect(() => {\n      initialize();\n    }, []);\n\n    const initialize = async () => {\n      const response = await axios.get(url);\n      setDatas(response.data);\n    };\n\n    // return <WrappedComponent datas={datas} test={props} />;\n    return JSON.stringify(props);\n  };\n\n  return ChildComp;\n};\n\n// SSR\nexport const getServerSideProps = async (context: any) => {\n  // const { bo_id } = context.query;\n\n  // const fetcher = async (url: string) => {\n  //   const resp = await axios.get(url);\n  //   return resp.data;\n  // };\n\n  // const board = await fetcher(`${BACKEND_URL}/board/${bo_id}`);\n  console.log('SSR');\n\n  return {\n    props: {\n      test: 'test',\n    },\n  };\n};\n\nexport default withRequest;\n"]},"metadata":{},"sourceType":"module"}